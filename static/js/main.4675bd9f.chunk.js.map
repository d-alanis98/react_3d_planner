{"version":3,"sources":["redux/reducers/editorDuck.js","classes/Helpers/Requests.js","redux/reducers/projectDuck.js","redux/reducers/objectsDuck.js","redux/store.js","components/Layout/Containers/FixedHeightContainer.js","constants/models/models.js","classes/Renderers/BidimensionalRenderer.js","components/Editor/2D/RendererContainer.js","redux/HOC/withProjectState.js","components/Renderer/2D/HOC/with2DRenderer.js","components/Layout/Flex/Flex.js","components/Layout/Flex/FlexRow.js","components/Layout/Containers/FixedWidthContainer.js","components/Editor/3D/Layout/Editor/EditorActions/ModelThumbnail.js","components/Editor/3D/Layout/Editor/EditorActions/ModelsLibrary/ModelsLibrary.js","components/Editor/2D/Editor/EditorActions/EditorActions.js","components/Editor/2D/Editor/Editor.js","components/Layout/Flex/FlexColumn.js","components/Layout/Labels/LabelWithIcon.js","redux/HOC/withEditorState.js","components/Layout/Buttons/ButtonWithIcon.js","components/ProjectSettings/ProjectSettings.js","classes/3D/Models/TextureFactory.js","components/Editor/3D/Layout/Editor/EditorActions/PlaneActions/PlaneSettings/PlaneSettings.js","classes/3D/Plane/PlaneFactory.js","classes/Renderers/TridimensionalRenderer.js","classes/3D/Camera/CameraRotationFactory.js","components/Editor/3D/Layout/Editor/EditorActions/PlaneActions/CameraPositionMenu.js","components/Editor/3D/Layout/Editor/EditorActions/PlaneActions/PlaneActions.js","components/Editor/3D/Layout/Editor/EditorActions/EditorActions.js","components/Editor/3D/Layout/RendererContainer.js","components/Editor/3D/Layout/Editor/Editor.js","components/Renderer/3D/HOC/with3DRenderer.js","components/Catalog/Data/data.js","components/Catalog/ModelsLibrary/ModelsLibrary.js","components/Catalog/Catalog.js","constants/sections/sections.js","components/Layout/Sidebar/Sections/EditorActions.js","components/Layout/Sidebar/Sections/ProjectActions.js","components/Layout/Sidebar/Sidebar.js","App.js","serviceWorker.js","index.js"],"names":["initialState","editorType","editorWidth","editorHeight","reducer","state","action","type","payload","setEditorTypeAction","dispatch","getState","setEditorWidthAction","width","setEditorHeightAction","height","Requests","makeRequest","endpoint","headers","onSuccess","onError","callbackArguments","fetch","then","response","status","json","data","Error","statusText","catch","error","message","split","errorCode","errorMessage","name","scene","version","objects","description","saveProgressSuccess","successMessage","console","log","saveProgressError","setProjectNameAction","projectName","set3DSceneDimensionsAction","sceneWidth","sceneHeight","project","tridimensionalSceneParameters","newTridimensionalSceneParameters","set2DSceneDimensionsAction","bidimensionalSceneParameters","newBidimensionalSceneParameters","setProjectVersionAction","projectVersion","setProjectObjectsAction","projectObjects","setProjectDescriptionAction","projectDescription","addObjectToProjectAction","objectToAdd","newProjectObjects","concat","updateProjectObjectAction","updatedObject","updatedObjects","map","object","id","removeObjectFromProjectAction","objectToRemove","filter","saveProjectAction","method","body","fetching","rootReducer","combineReducers","editor","editorReducer","projectReducer","objectsReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","generateStore","createStore","applyMiddleware","thunk","FixedHeightContainer","children","className","extraProps","TABLE","models","uri","thumbnail","models2D","getModelThumbnail","BidimensionalRenderer","enablePlaneControls","this","domContainer","document","getElementById","DOM_CONTAINER_ID","containerWidth","clientWidth","containerHeight","clientHeight","containerAspectRatio","render","bind","setInitialStage","setInitialLayer","setPlane","addZoomEventToStage","stage","Konva","Stage","container","draggable","layer","Layer","addLayerToStage","draw","add","on","event","evt","preventDefault","oldScale","scaleX","pointer","getPointerPosition","mousePointTo","x","y","newScale","deltaY","scale","newPosition","position","batchDraw","planeCenterCoordinates","plane","Rect","fill","stroke","opacity","strokeWidth","setPlaneCenter","drawGrid","numberOfRows","numberOfCols","drawLinesInAxis","numberOfLines","size","gridSize","Array","from","Math","round","forEach","row","index","requestAnimationFrame","updateCallback","path","view","getModel2DUri","depth","getDimensions","self","Image","fromURL","imageNode","setAttrs","offsetX","offsetY","dragBoundFunc","pos","boundFunction","attrs","widthPadding","heightPadding","RendererContainer","withProjectState","WrappedComponent","connect","ownProps","props","addObject","updateObject","removeObject","setProjectName","setProjectObjects","setProjectVersion","set2DSceneDimensions","set3DSceneDimensions","setProjectDescription","with2DRenderer","useState","setModels","sceneInstance","setSceneInstance","draggedObject","setDraggedObject","useEffect","init","modelsCopy","model","coordinates","quantity","loadSVGModel","createdModel","_id","modelWithUpdatedId","uuid","updateModel","restoreModels","existingObject","findObjectBy2DModelId","tridimensionalEditorState","get3DCoordinates","onCreationSuccess","length","z","id2DModel","find","target","increaseModelQuantity","originCoordinates","calculateOriginCoordinates","originX","originY","addModel","Flex","FlexRow","FixedWidthContainer","ModelThumbnail","title","onClick","modelQuantity","imageClassName","data-toggle","data-placement","src","alt","ModelsLibrary","e","EditorActions","FlexColumn","LabelWithIcon","icon","labelText","withEditorState","editorState","setEditorType","setEditorWidth","setEditorHeight","ButtonWithIcon","buttonText","WithProjectState","changesSaved","setChangesSaved","newProjectName","setNewProjectName","newProjectDescription","setNewProjectDescription","faCogs","value","onChange","placeholder","rows","faCheckCircle","disabled","TextureFactory","WOOD_TEXTURE","FLOOR_TEXTURE","getTextureUri","textureType","PlaneSettings","handleTextureChange","faCog","aria-haspopup","aria-expanded","aria-labelledby","PlaneFactory","DEFAULT_SIZE","GRID","THREE","DEFAULT_GRID","MESH_PLANE","color","rotateX","PI","material","side","TridimensionalRenderer","addTextureToObject","textureUri","isMesh","texture","load","DEFAULT_TEXTURE_URI","encoding","flipY","getOptimalCameraDistance","max","orbitControls","dragControls","enableOrbitControls","setInitialScene","setInitialCameraState","setInitialRenderer","addControls","addPlane","addResizeListener","addLight","cameraDistance","camera","set","lookAt","renderer","antialias","setClearColor","setSize","appendChild","domElement","OrbitControls","DragControls","gridPlane","create","addToScene","addEventListener","setContainerDimensions","aspect","updateProjectionMatrix","update","callback","onDragEnd","element","light","DEFAULT_LIGHT_COLOR","DEFAULT_LIGHT_INTENSITY","push","updateDragControls","isArray","getModelUri","GLTFLoader","gltf","traverse","enabled","initialYPosition","CameraRotationFactory","TOP_VIEW","BACK_VIEW","FRONT_VIEW","FRONT_LEFT","FRONT_RIGHT","ISOMETRIC_VIEW","createCameraRotationVector","distance","DEFAULT_CAMERA_DISTANCE","cameraPosition","setY","setZ","setX","CameraPositionMenu","rotateCamera","faCrosshairs","faCaretSquareUp","faWindowMaximize","faWindowRestore","faCaretSquareRight","faCaretSquareLeft","faCube","WithEditorState","addTextureToPlane","toggleOrbitControls","orbitControlsEnabled","checked","faLock","faLockOpen","faArrowsAlt","with3DRenderer","setOrbitControlsEnabled","setDragEndCallback","editorContainer","load3DModel","findObjectBy3DModelId","bidimensionalEditorState","get2DCoordinates","id3DModel","bidimensionalSceneWidth","bidimensionalSceneHeight","cameraPositionVector","copy","model_id","item","colSpan","faPlusCircle","addObjectToProject","Catalog","faBook","SectionComponentToRender","faToolbox","faObjectGroup","ProjectActions","faSave","faFolderOpen","faDownload","Sidebar","$","tooltip","Boolean","location","hostname","match","store","WithStore","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4675bd9f.chunk.js","sourcesContent":["/**\n * @author Damián Alanís Ramírez\n * @version 1.0.0\n */\n//Imported constants\n\n\n//CONSTANTS\n//Action types\nconst SET_EDITOR_TYPE   = 'SET_EDITOR_TYPE';\nconst SET_EDITOR_WIDTH  = 'SET_EDITOR_WIDTH';\nconst SET_EDITOR_HEIGHT = 'SET_EDITOR_HEIGHT';\n//Others\nconst TRIDIMENSIONAL    = 'TRIDIMENSIONAL_EDITOR';\n//Initial state\nconst initialState = {\n    editorType: TRIDIMENSIONAL,\n    editorWidth: 0,\n    editorHeight: 0,\n}\n\n//REDUCER\nconst reducer = (state = initialState, action) => {\n    let { type, payload } = action;\n    switch(type){\n        case SET_EDITOR_TYPE:\n            return {\n                ...state,\n                editorType: payload,\n            };\n        case SET_EDITOR_WIDTH:\n            return {\n                ...state,\n                editorWidth: payload,\n            };\n        case SET_EDITOR_HEIGHT:\n            return {\n                ...state,\n                editorHeight: payload,\n            };\n        default:\n            return state;\n    }\n}\n\nexport default reducer;\n\n//ACTIONS\n/**\n * This method sets editor´s type. The available options are 2D or 3D.\n * @param {string} editorType \n */\nexport let setEditorTypeAction = editorType => (dispatch, getState) => {\n    dispatch({\n        type: SET_EDITOR_TYPE,\n        payload: editorType,\n    });\n}\n\n/**\n * This method sets editor´s width. It must be a number representing the width in meters (assuming natural scale).\n * @param {number} width \n */\nexport let setEditorWidthAction = width => (dispatch, getState) => {\n    dispatch({\n        type: SET_EDITOR_WIDTH,\n        payload: width,\n    });\n}\n\n/**\n * This method sets editor´s height. It must be a number representing the height in meters (assuming natural scale).\n * @param {number} height \n */\nexport let setEditorHeightAction = height => (dispatch, getState) => {\n    dispatch({\n        type: SET_EDITOR_HEIGHT,\n        payload: height,\n    });\n}","/**\n * @author Damián Alanís Ramírez\n * @version 1.1.1\n */\n\nexport default class Requests {\n    static makeRequest = (endpoint, headers = { }, onSuccess = null, onError = null, ...callbackArguments) => {\n        fetch(endpoint, headers)\n        .then(response => {\n            if(response.status === 200){\n                response.json()\n                .then(data => {\n                    if(onSuccess && typeof(onSuccess) === 'function')\n                        onSuccess(data, ...callbackArguments);\n                });\n            }\n            throw new Error(`${response.status}|${response.statusText}`);\n        })\n        .catch(error => {\n            let { message } = error;\n            let [errorCode, errorMessage] = message.split('|');\n            if(onError && typeof(onError) === 'function')\n                onError(errorCode, errorMessage, ...callbackArguments);\n        })\n    }\n}","/**\n * @author Damián Alanís Ramírez\n * @version 1.2.1\n */\n\nimport Requests from \"../../classes/Helpers/Requests\";\n\n//CONSTANTS\n//Action types\nconst SET_PROJECT_NAME          = 'SET_PROJECT_NAME';\nconst SET_PROJECT_SCENE         = 'SET_PROJECT_SCENE';\nconst SET_PROJECT_VERSION       = 'SET_PROJECT_VERSION';\nconst SET_PROJECT_OBJECTS       = 'SET_PROJECT_OBJECTS';\nconst SET_PROJECT_DESCRIPTION   = 'SET_PROJECT_DESCRIPTION';\n//Initial state\nconst initialState = {\n    name: '',\n    scene: {},\n    version: '',\n    objects: [],\n    description: '',\n}\n//Others\nconst BASE_ENDPOINT         = '/save_project_progress';\n\n//REDUCER\nconst reducer = (state = initialState, action) => {\n    let { type, payload } = action;\n    switch(type){\n        case SET_PROJECT_NAME:\n            return {\n                ...state,\n                name: payload,\n            };\n        case SET_PROJECT_SCENE:\n            return {\n                ...state,\n                scene: payload,\n            };\n        case SET_PROJECT_VERSION:\n            return {\n                ...state,\n                version: payload,\n            };\n        case SET_PROJECT_OBJECTS:\n            return {\n                ...state,\n                objects: payload,\n            };\n        case SET_PROJECT_DESCRIPTION:\n            return {\n                ...state,\n                description: payload,\n            };\n        default:\n            return state;\n    }\n}\n\nexport default reducer;\n\n//Helpers\nconst saveProgressSuccess = successMessage => {\n    //Create notification with successMessage\n    console.log(successMessage)\n    \n}\n\nconst saveProgressError = (errorCode, errorMessage) => {\n    //Create notification with errorMessage\n    console.log(`[${errorCode}]: ${errorMessage}`)\n}\n\n//ACTIONS\n/**\n * This action sets the name of the project\n */\nexport let setProjectNameAction = projectName => (dispatch, getState) => {\n    dispatch({\n        type: SET_PROJECT_NAME,\n        payload: projectName,\n    });\n}\n\n/**\n * This action sets the scene of the project\n */\nexport let setProjectSceneAction = projectScene => (dispatch, getState) => {\n    dispatch({\n        type: SET_PROJECT_SCENE,\n        payload: projectScene,\n    });\n}\n\n/**\n * This action sets the dimensions of the 3d scene of the project\n */\nexport let set3DSceneDimensionsAction = (sceneWidth, sceneHeight) => (dispatch, getState) => {\n    let { scene } = { ...getState().project };\n    let tridimensionalSceneParameters = scene['3d'];\n    let newTridimensionalSceneParameters = {\n        ...tridimensionalSceneParameters,\n        sceneWidth,\n        sceneHeight\n    };\n    let projectSceneParameters = {\n        ...scene,\n        '3d': newTridimensionalSceneParameters\n    };\n    dispatch({\n        type: SET_PROJECT_SCENE,\n        payload: projectSceneParameters,\n    });\n}\n\n/**\n * This action sets the dimensions of the 2d scene of the project\n */\nexport let set2DSceneDimensionsAction = (sceneWidth, sceneHeight) => (dispatch, getState) => {\n    let { scene } = { ...getState().project };\n    let bidimensionalSceneParameters = scene['2d'];\n    let newBidimensionalSceneParameters = {\n        ...bidimensionalSceneParameters,\n        sceneWidth,\n        sceneHeight\n    }\n    let projectSceneParameters = {\n        ...scene,\n        '2d': newBidimensionalSceneParameters\n    };\n    dispatch({\n        type: SET_PROJECT_SCENE,\n        payload: projectSceneParameters,\n    });\n}\n\n/**\n * This action sets the version of the project\n */\nexport let setProjectVersionAction = projectVersion => (dispatch, getState) => {\n    dispatch({ \n        type: SET_PROJECT_VERSION,\n        payload: projectVersion,\n    })\n}\n\n/**\n * This action sets project´s objects\n */\nexport let setProjectObjectsAction = projectObjects => (dispatch, getState) => {\n    dispatch({\n        type: SET_PROJECT_OBJECTS,\n        payload: projectObjects,\n    });\n}\n\n/**\n * This action sets project´s description\n */\nexport let setProjectDescriptionAction = projectDescription => (dispatch, getState) => {\n    dispatch({\n        type: SET_PROJECT_DESCRIPTION,\n        payload: projectDescription,\n    });\n}\n\n/**\n * This action adds a new object to the objects array\n */\nexport let addObjectToProjectAction = objectToAdd => (dispatch, getState) => {\n    let { objects } = { ...getState().project };\n    let newProjectObjects = objects.concat(objectToAdd);\n    setProjectObjectsAction(newProjectObjects)(dispatch, getState);\n}\n\n/**\n * This action updates the project objects by replacing the given updated object in the existing objects array\n * @param {object} updatedObject \n */\nexport let updateProjectObjectAction = updatedObject => (dispatch, getState) => {\n    let { objects } = { ...getState().project };\n    //We update the objects by replacing the updatedObject in the existing objects array\n    let updatedObjects = objects.map(object => {\n        if(object.id === updatedObject.id)\n            return updatedObject;\n        return object;\n    });\n    setProjectObjectsAction(updatedObjects)(dispatch, getState);\n}\n\n/**\n * This action removes a new object from the objects array\n */\nexport let removeObjectFromProjectAction = objectToRemove => (dispatch, getState) => {\n    let { objects } = { ...getState().project };\n    let newProjectObjects = objects.filter(object => object.id != objectToRemove.id);\n    setProjectObjectsAction(newProjectObjects)(dispatch, getState);\n}\n\n/**\n * This action restores the project state based on the received project store (which may come serialized in JSON string)\n * @param {string|object} existingProject \n */\nexport let restoreProjectAction = existingProject => (dispatch, getState) => {\n    //We transform the project data to an object if it comes serialized\n    if(typeof(existingProject) === 'string')\n        existingProject = JSON.parse(existingProject);\n    //We get the data from the object\n    let { projectData } = existingProject;\n    //We get the project properties\n    let { name, version, objects } = projectData;\n    setProjectNameAction(name)(dispatch, getState);\n    setProjectVersionAction(version)(dispatch, getState);\n    setProjectObjectsAction(objects)(dispatch, getState);\n}\n\nexport let saveProjectAction = () => (dispatch, getState) => {\n    let { project } = { ...getState() };\n    let headers = {\n        method: 'POST',\n        body: project\n    }\n    Requests.makeRequest(\n        BASE_ENDPOINT, \n        headers, \n        saveProgressSuccess, \n        saveProgressError\n    );\n}","/**\n * @author Damián Alanís Ramírez\n * @version 1.0.0\n */\n\nimport Requests from \"../../classes/Helpers/Requests\";\n\n//CONSTANTS\n//Action types\nconst GET_OBJECTS           = 'GET_OBJECTS';\nconst GET_OBJECTS_ERROR     = 'GET_OBJECTS_ERROR';\nconst GET_OBJECTS_SUCCESS   = 'GET_OBJECTS_SUCCESS';\nconst ADD_OBJECT_TO_SCENE   = 'ADD_OBJECT_TO_SCENE';\n//Others\nconst BASE_ENDPOINT         = '/models';\n//Initial state\nconst initialState = {\n    objects: [],\n    fetching: false,\n}\n\n//REDUCER\nconst reducer = (state = initialState, action) => {\n    let { type, payload } = action;\n    switch(type){\n        case GET_OBJECTS:\n            return {\n                ...state,\n                fetching: true,\n            };\n        case GET_OBJECTS_ERROR:\n            return {\n                ...state,\n                error: payload,\n                fetching: false,\n            };\n        case GET_OBJECTS_SUCCESS:\n            return {\n                ...state,\n                objects: payload,\n                fetching: false,\n            };\n        default:\n            return state;\n    }\n}\n\nexport default reducer;\n\n//Helpers\n/**\n * Success callback for getObjectsAction\n * @param {array} data \n * @param {function} dispatch \n */\nconst getObjectsSuccess = (data, dispatch) => {\n    dispatch({\n        type: GET_OBJECTS_SUCCESS,\n        payload: data,\n    });\n}\n\n/**\n * Error callback for getObjectsAction\n * @param {number} errorCode \n * @param {string} errorMessage \n * @param {function} dispatch \n */\nconst getObjectsError = (errorCode, errorMessage, dispatch) => {\n    dispatch({ \n        type: GET_OBJECTS_ERROR,\n        payload: errorMessage,\n    });\n}\n\n\n\n//ACTIONS\n\n/**\n * This action gets objects from the designed endpoint using the requests facade\n */\nexport let getObjectsAction = () => (dispatch, getState) => {\n    //We pass dispatch as callback argument to be able to use this method in the callbacks\n    let callbackArguments = [dispatch];\n    //We dispatch the action to enable the fetching state\n    dispatch({\n        type: GET_OBJECTS,\n    });\n    //We make the request using the requests facade\n    Requests.makeRequest(BASE_ENDPOINT, {},  getObjectsSuccess, getObjectsError, ...callbackArguments);\n}","import { compose, createStore, applyMiddleware, combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\n//Reducers\nimport editorReducer from './reducers/editorDuck';\nimport projectReducer from './reducers/projectDuck';\nimport objectsReducer from './reducers/objectsDuck';\n\nlet rootReducer = combineReducers({\n    editor: editorReducer,\n    project: projectReducer,\n    objects: objectsReducer,\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n\nconst generateStore = () => {\n    let store = createStore(\n        rootReducer, \n        composeEnhancers(applyMiddleware(thunk))\n    );\n    //Restore project action\n    return store;\n}\n\nexport default generateStore;","import React from 'react';\n//Styles\nimport './Heights.css';\n\nconst FixedHeightContainer = ({ height, children, className, ...extraProps }) => (\n    <div\n        className = {`h-${height} ${className || ''}`}\n        { ...extraProps }\n    >\n        { children }\n    </div>\n);\n\nexport default FixedHeightContainer;","//Model names\nexport const WALL           = 'WALL';\nexport const KIOSK          = 'KIOSK';\nexport const TABLE          = 'TABLE';\nexport const BOARD          = 'BOARD';\nexport const FURNITURE      = 'FURNITURE';\n//2D views\nexport const TOP            = 'TOP';\nexport const FRONT          = 'FRONT';\nexport const FRONT_LEFT     = 'FRONT_LEFT';\nexport const FRONT_RIGHT    = 'FRONT_RIGHT';\n\nexport let models = {\n    [KIOSK]: {\n        uri: '/assets/models/3D/kiosk/kiosk.glb',\n        thumbnail: '/assets/models/3D/kiosk/thumbnail.png',\n    },\n    [TABLE]: {\n        uri: '/assets/models/3D/table/table.glb',\n        thumbnail: '/assets/models/3D/table/thumbnail.png',\n    },\n    [BOARD]: {\n        uri: '/assets/models/3D/board/board.glb',\n        thumbnail: '/assets/models/3D/board/thumbnail.png',\n    },\n    [FURNITURE]: {\n        uri: '/assets/models/3D/furniture/furniture.glb',\n        thumbnail: '/assets/models/3D/furniture/thumbnail.png',\n    }\n}\n\nexport let models2D = {\n    [FURNITURE]: {\n        //Views\n        [TOP]: {\n            uri: '/assets/models/2D/furniture/furniture_top.svg',\n            thumbnail: '/assets/models/3D/furniture/thumbnail.png',\n        },\n        [FRONT]: {\n            uri: '/assets/models/2D/furniture/furniture_front.svg',\n            thumbnail: '/assets/models/3D/furniture/thumbnail.png',\n        },\n        [FRONT_LEFT]: {\n            uri: '/assets/models/2D/furniture/furniture_front.svg',\n            thumbnail: '/assets/models/3D/furniture/thumbnail.png',\n        },\n        [FRONT_RIGHT]: {\n            uri: '/assets/models/2D/furniture/furniture_front.svg',\n            thumbnail: '/assets/models/3D/furniture/thumbnail.png',\n        }\n    }\n}\n\nexport let getDimensions = type => {\n    switch(type){\n        case TABLE:\n            return {\n                width: 50,\n                depth: 50,\n                height: 75,\n            }\n        case FURNITURE:\n            return {\n                width: 100,\n                depth: 50,\n                height: 200,\n            }\n        default:\n            return {\n                width: 100,\n                depth: 100,\n                height: 100\n            }\n    }\n}\n\nexport let getModelUri = type => {\n    switch(type){\n        case WALL:\n            return '/assets/models/3D/wall.glb'\n        case KIOSK:\n            return models[KIOSK].uri;\n        case TABLE:\n            return models[TABLE].uri;\n        case BOARD:\n            return models[BOARD].uri;\n        case FURNITURE:\n            return models[FURNITURE].uri;\n        default:\n            return models[KIOSK].uri;\n    }\n}\n\n\nexport let getModel2DUri = (type, view) => {\n    switch(type){\n        case FURNITURE:\n            return models2D[FURNITURE][view].uri;\n        default:\n            return models2D[FURNITURE][view].uri;\n    }\n}\n\nexport let getModelThumbnail = type => {\n    switch(type){\n        case KIOSK:\n            return models[KIOSK].thumbnail;\n        case TABLE:\n            return models[TABLE].thumbnail;\n        case BOARD:\n            return models[BOARD].thumbnail;\n        case FURNITURE:\n            return models[FURNITURE].thumbnail;\n        default:\n            return models[TABLE].thumbnail;\n    }\n}","import Konva from 'konva';\n//Constants\nimport { getModel2DUri, getDimensions, TOP } from '../../constants/models/models';\n\nexport default class BidimensionalRenderer {\n    //CONSTANTS\n    //DOM container\n    static DOM_CONTAINER_ID = 'bidimensional_renderer';\n\n    //CONSTRUCTOR\n    constructor(sceneWidth = 100, sceneHeight = 100, enablePlaneControls = false) {\n        this.objects = [];\n        //Scene dimensions\n        this.sceneWidth = sceneWidth;\n        this.sceneHeight = sceneHeight;\n        //Plane controls\n        this.enablePlaneControls = enablePlaneControls;\n        //Container dimensions\n        this.domContainer = document.getElementById(BidimensionalRenderer.DOM_CONTAINER_ID);\n        this.containerWidth = this.domContainer.clientWidth;\n        this.containerHeight = this.domContainer.clientHeight;\n        this.containerAspectRatio = this.containerWidth / this.containerHeight;\n        //Methods linkage\n        this.render = this.render.bind(this);\n    }\n\n    //PRIMARY METHODS\n    init(){\n        this.setInitialStage();\n        this.setInitialLayer();\n        this.setPlane();\n        this.addZoomEventToStage();\n        this.render();\n    }\n\n\n    setInitialStage(){\n        this.stage = new Konva.Stage({\n            container: BidimensionalRenderer.DOM_CONTAINER_ID,\n            width: this.containerWidth,\n            height: this.containerHeight,\n            draggable:  this.enablePlaneControls ? 'true' : null,\n        });\n    }\n\n    setInitialLayer(){\n        this.layer = new Konva.Layer();\n        this.addLayerToStage(this.layer);\n        this.layer.draw();\n    }\n\n    addLayerToStage(layer){\n        this.stage.add(layer);\n    }\n\n    addZoomEventToStage(){\n        let scaleBy = 1.1;\n        if(!this.enablePlaneControls)\n            return;\n        this.stage.on('wheel', event => {\n            event.evt.preventDefault();\n            let oldScale = this.stage.scaleX();\n            let pointer = this.stage.getPointerPosition();\n    \n            let mousePointTo = {\n              x: (pointer.x - this.stage.x()) / oldScale,\n              y: (pointer.y - this.stage.y()) / oldScale,\n            };\n    \n            let newScale = event.evt.deltaY > 0 ? oldScale * scaleBy : oldScale / scaleBy;\n            this.stage.scale({ x: newScale, y: newScale });\n    \n            let newPosition = {\n              x: pointer.x - mousePointTo.x * newScale,\n              y: pointer.y - mousePointTo.y * newScale,\n            };\n            this.stage.position(newPosition);\n            this.stage.batchDraw();\n          });\n    }\n\n    setPlaneCenter(){\n        this.planeCenterCoordinates = {\n            x: this.containerWidth / 2,\n            y: this.containerHeight / 2,\n        }\n    }\n\n    setPlane(){\n        this.plane = new Konva.Rect({\n            x: 0,\n            y: 0,\n            width: this.containerWidth,\n            height: this.containerHeight,\n            fill: 'lightgray',\n            stroke: 'black',\n            opacity: 0.25,\n            strokeWidth: 1,\n        });\n        this.setPlaneCenter();\n        this.layer.add(this.plane)\n        this.drawGrid();\n    }\n\n    \n\n    drawGrid(){\n        //Internal constants\n        const ROW = 'ROW';\n        const COLUMN = 'COLUMN';\n        //Internal variables\n        let gridSize = 50;\n        let numberOfRows = this.containerHeight / gridSize;\n        let numberOfCols = this.containerWidth / gridSize;\n        //Function that draws the requested number of lines, of the requested type ('row' || 'col') with the desired size\n        const drawLinesInAxis = (numberOfLines, type, size, gridSize) => {\n            Array.from(new Array(Math.round(numberOfLines))).forEach((row, index) => {\n                this.layer.add(\n                    new Konva.Rect({\n                        x: type === ROW ? 0 : index * gridSize,\n                        y: type === ROW ? index * gridSize : 0,\n                        width: type === ROW ? size : 0,\n                        height: type === ROW ? 0 : size,\n                        stroke: 'black',\n                        opacity: 0.25,\n                        strokeWidth: 1,\n                    })\n                );\n            })\n        }\n        //We generate the grid by drawing the rows and the columns based on the grid size (each square side)\n        drawLinesInAxis(numberOfRows, ROW, this.containerWidth, gridSize);\n        drawLinesInAxis(numberOfCols, COLUMN, this.containerHeight, gridSize);\n    }\n\n    render(){\n        requestAnimationFrame(this.render);\n        this.stage.batchDraw();\n    }\n    \n    loadSVGModel(type, { x, y }, onSuccess, updateCallback){\n        //We load items from catalog\n        let path = getModel2DUri(type, TOP);\n        //We get the dimensions of the object (assuming in a 2D top view the \"height\" is the depth)\n        const { width, depth: height } = getDimensions(type);\n        //We bind the instance to a variable\n        let self = this;\n        Konva.Image.fromURL(path, imageNode => {\n            imageNode.setAttrs({\n                //If no coordinates were given we place the objects in the middle of the plane\n                x: x || self.containerWidth / 2,\n                y: y || self.containerHeight / 2,\n                type,\n                width,\n                height,\n                //We set the center of the element\n                offsetX: width / 2,\n                offsetY: height / 2,\n                //We enable the drag and drop interaction for this element\n                draggable: 'true',\n                //The function that defines the bound for dragging\n                dragBoundFunc: pos => boundFunction(self, { width, height }, pos)\n            });\n            //We add the drag end event listener, to be able to update item position at project´s level\n            imageNode.on('dragend', updateCallback );\n            //We add the object to the layer\n            this.layer.add(imageNode);\n            //If given, we execute the success callback passing the created object as argument\n            if(onSuccess && typeof(onSuccess) === 'function')\n                onSuccess(imageNode);\n            //We update the layer\n            this.layer.batchDraw();\n        });\n\n        const boundFunction = (self, attrs, pos) => {\n            let { width, height } = attrs;\n            let widthPadding = width / 2;\n            let heightPadding = height / 2;\n            //X axis constraints\n            let x = pos.x - widthPadding <= 0 ? 0 + widthPadding : pos.x + widthPadding >= self.containerWidth ? self.containerWidth - widthPadding : pos.x;\n            //Y axis constraints\n            let y = pos.y - heightPadding <= 0 ? 0 + heightPadding : pos.y + heightPadding >= self.containerHeight ? self.containerHeight - heightPadding : pos.y;\n            return { x, y }\n        }\n    }\n}","import React from 'react';\n//Components\nimport FixedHeightContainer from '../../Layout/Containers/FixedHeightContainer';\n//Classes\nimport BidimensionalRenderer from '../../../classes/Renderers/BidimensionalRenderer';\n\nconst RendererContainer = () => (\n    <FixedHeightContainer\n        id = { BidimensionalRenderer.DOM_CONTAINER_ID }\n        height = { 100 }\n    />\n);\n\nexport default RendererContainer;","import React from 'react';\nimport { connect } from 'react-redux';\n//Redux\nimport { \n    saveProjectAction, \n    setProjectNameAction, \n    setProjectObjectsAction, \n    setProjectVersionAction, \n    addObjectToProjectAction, \n    updateProjectObjectAction,\n    set3DSceneDimensionsAction,\n    set2DSceneDimensionsAction,\n    setProjectDescriptionAction,\n    removeObjectFromProjectAction, \n} from '../reducers/projectDuck';\n\nconst withProjectState = WrappedComponent => {\n    const WithProjectState = props => {\n        let { \n            project,\n            saveProjectAction,\n            setProjectNameAction, \n            setProjectObjectsAction, \n            setProjectVersionAction,\n            addObjectToProjectAction,\n            updateProjectObjectAction,\n            set3DSceneDimensionsAction,\n            set2DSceneDimensionsAction,\n            setProjectDescriptionAction,\n            removeObjectFromProjectAction,\n            ...ownProps\n        } = props;\n\n        return <WrappedComponent \n            project = { project }\n            addObject = { addObjectToProjectAction }\n            updateObject = { updateProjectObjectAction }\n            removeObject = { removeObjectFromProjectAction }\n            setProjectName = { setProjectNameAction }\n            setProjectObjects = { setProjectNameAction }\n            setProjectVersion = { setProjectVersionAction }\n            set2DSceneDimensions = { set2DSceneDimensionsAction }\n            set3DSceneDimensions = { set3DSceneDimensionsAction }\n            setProjectDescription = { setProjectDescriptionAction }\n            { ...ownProps }\n        />\n    }\n\n    const mapStateToProps = (state, ownProps) => {\n        return {\n            project: state.project,\n            ...ownProps\n        }\n    }\n\n    let WithState = connect(\n        mapStateToProps, \n        { \n            saveProjectAction,\n            setProjectNameAction, \n            setProjectObjectsAction, \n            setProjectVersionAction,\n            addObjectToProjectAction,\n            updateProjectObjectAction,\n            set3DSceneDimensionsAction,\n            set2DSceneDimensionsAction,\n            setProjectDescriptionAction,\n            removeObjectFromProjectAction,\n        }\n    )(WithProjectState);\n    return WithState;\n}\n\nexport default withProjectState;\n","import React, { useState, useEffect } from 'react';\n//Classes\nimport BidimensionalRenderer from '../../../../classes/Renderers/BidimensionalRenderer';\nimport withProjectState from '../../../../redux/HOC/withProjectState';\n\nconst with2DRenderer = WrappedComponent => {\n    const With2DRenderer = ({ project, addObject, updateObject, removeObject, set2DSceneDimensions, ...ownProps }) => {\n        //PROPS\n        //Destructuring\n        const { objects: projectObjects } = project;\n        //HOOKS\n        //State\n        const [models, setModels] = useState({});\n        const [sceneInstance, setSceneInstance] = useState();\n        const [draggedObject, setDraggedObject] = useState();\n        \n\n        //Effects\n        useEffect(() => {\n            //We set the scene instance\n            let sceneInstance = new BidimensionalRenderer();\n            sceneInstance.init();\n            setSceneInstance(sceneInstance);\n            //We set the container dimensions\n            const { containerWidth, containerHeight } = sceneInstance;\n            set2DSceneDimensions(containerWidth, containerHeight);\n            /**\n             * This method restores the existing objects in the plane\n             */\n            const restoreModels = () => {\n                //We retrieve the existing models in state\n                let modelsCopy = { ...models };\n                //We iterate over the existing models and create the 2d model\n                projectObjects.forEach(model => {\n                    //We get the type and the coordinates (of the 2d key)\n                    const { type } = model;\n                    const { coordinates } = model['2d'];\n                    //We update the model quantity\n                    modelsCopy[type] ? modelsCopy[type].quantity++ : modelsCopy[type] = { quantity: 1 };\n                    //We create the SVG model\n                    sceneInstance.loadSVGModel(\n                        type,\n                        coordinates,\n                        createdModel => { //onSuccess callback\n                            let { _id, attrs: { x, y } } = createdModel;\n                            let modelWithUpdatedId = {\n                                ...model,\n                                '2d': {\n                                    uuid: _id,\n                                    coordinates: { x, y }\n                                }\n                            };\n                            updateObject(modelWithUpdatedId) //updateCallback\n                        },\n                        updateModel\n                    );\n                });\n                setModels(modelsCopy);\n            }\n            restoreModels();\n            \n        }, []);\n\n\n        /**\n         * Effect used to update the dragged object\n         */\n        useEffect(() => {\n            if(!draggedObject)\n                return;\n            //We get the id and the coordinates from the dragged object\n            const { _id, x, y } = draggedObject\n            \n            let existingObject = findObjectBy2DModelId(_id);\n            if(!existingObject)\n                return;\n            let tridimensionalEditorState = { ...existingObject['3d'] };\n            let updatedObject = { \n                ...existingObject,\n                '2d': {\n                    uuid: _id,\n                    coordinates: { x, y }\n                },\n                '3d': {\n                    ...tridimensionalEditorState,\n                    coordinates: get3DCoordinates(x, y), //We get the 3D coordinates, because movements in 2D editor take effect on 3D editor too\n                }\n            };\n            updateObject(updatedObject);\n        }, [draggedObject]);\n        /**\n         * Success callback for the loadSVGModel method, in this callback we add the created object at project´s level, \n         * generating the id and the 2d and 3d keys, which will contain the id´s and coordinates of the object in the current\n         * project.\n         * @param {object} createdModel \n         */\n        const onCreationSuccess = createdModel => {\n            //We get the id, type and the coordinates of the created model\n            let { _id, attrs: { x, y, type } } = createdModel;\n            //We generate an object with all the properties needed to keep it in the state\n            let objectToAdd = {\n                id: projectObjects.length,\n                type,\n                '2d': {\n                    uuid: _id, //Konva generated ID\n                    coordinates: { x, y }\n                },\n                '3d': {\n                    uuid: '', //We don´t know the id for the 3D model, it will be generated and updated on render time\n                    coordinates: { x: 0, y: 0, z: 0 }\n                }\n            }\n            //We add the object at project´s level\n            addObject(objectToAdd);\n        }\n\n        /**\n         * This method return the complete object based on it´s 2d model id\n         * @param {string} id2DModel \n         */\n        const findObjectBy2DModelId = id2DModel => projectObjects.find(object => object['2d'].uuid === id2DModel);\n\n        const updateModel = event => {\n            if(!event.target)\n                return;\n            //We get the 2d model id and the new coordinates\n            const { target: { _id, attrs: { x, y } } } = event;\n            setDraggedObject({ x, y, _id });       \n        }\n\n        /**\n         * This method adds a new model of the specified type to the scene\n         * @param {string} type \n         */\n        const addModel = (type, coordinates = { }) => {\n            increaseModelQuantity(type);\n            //We provide the success callback to add the object at project´s level\n            sceneInstance.loadSVGModel(type, coordinates, onCreationSuccess, updateModel);\n        }\n\n        /**\n         * This method increases the quantity of the specified model\n         * @param {string} type \n         */\n        const increaseModelQuantity = type => {\n            let modelsCopy = { ...models };\n            modelsCopy[type] ? modelsCopy[type].quantity++ : modelsCopy[type] = { quantity: 1 };\n            setModels(modelsCopy);\n        }\n\n        const calculateOriginCoordinates = (x, y) => {\n            let { x: planeCenterX, y: planeCenterY } = sceneInstance.planeCenterCoordinates;\n            return {\n                x: planeCenterX - x,\n                y: planeCenterY - y\n            }\n        }\n\n        const get3DCoordinates = (x, y) => {\n            let originCoordinates = calculateOriginCoordinates(x, y);\n            let { x: originX, y: originY } = originCoordinates;\n            let xRatio = 5 / sceneInstance.containerWidth; //Posteriormente se obtiene del estado\n            let yRatio = 5 / sceneInstance.containerHeight;\n            return {\n                x:  -1 * originX * xRatio,\n                y: 0,\n                z: -1 * originY * yRatio\n            }\n\n        }\n\n        return <WrappedComponent \n            models = { models }\n            addModel = { addModel }\n            { ...ownProps }\n        />\n    }\n\n    //We apply the project state HOC\n    let WithProjectState = withProjectState(With2DRenderer);\n    //We return the decorated component\n    return WithProjectState;\n}\n\n\nexport default with2DRenderer;","import React from 'react';\n\nconst Flex = ({ children, className, ...extraProps }) => (\n    <div\n        className = { `d-flex ${className || ''}`}\n        { ...extraProps }\n    >\n    { children }\n    </div>\n);\n\nexport default Flex;","import React from 'react';\n//Components\nimport Flex from './Flex';\n\nconst FlexRow = ({ children, className, }) => (\n    <Flex\n        className = {`flex-row ${className || ''}`}\n    >\n        { children }\n    </Flex>\n);\n\nexport default FlexRow;","import React from 'react';\n//Styles\nimport './Widths.css';\n\nconst FixedWidthContainer = ({ width, children, className, ...extraProps }) => (\n    <div\n        className = {`w-${width} ${className || ''}`}\n        { ...extraProps }\n    >\n        { children }\n    </div>\n);\n\nexport default FixedWidthContainer;","import React from 'react';\n//Functions\nimport { getModelThumbnail } from '../../../../../../constants/models/models';\n//Styles\nimport './ModelThumbnail.css';\n\n\nconst ModelThumbnail = ({ title, model, onClick, className, modelQuantity, imageClassName }) => {\n    return(\n        <div \n            title = { title }\n            onClick = { onClick }\n            className = { `model-thumbnail-container cursor-click ${className || ''}` }\n            data-toggle = 'tooltip' \n            data-placement = 'right' \n        >\n            <img \n                src = { getModelThumbnail(model) } \n                alt = { model }\n                className =  { imageClassName || 'model-thumbnail' }\n                \n            />\n            {\n                modelQuantity > 0 && \n                <div className='quantity-tile'>\n                    <span className='rounded-circle bg-primary circle-tile text-light'>{ modelQuantity }</span>\n                </div>\n            }\n        </div>\n    );\n}\n\nexport default ModelThumbnail;","import React from 'react';\nimport FlexRow from '../../../../../../Layout/Flex/FlexRow';\nimport ModelThumbnail from '../ModelThumbnail';\n\nconst ModelsLibrary = ({ models, addModel, className }) => (\n    <FlexRow\n        className = { `justify-content-start pt-2 ${className || ''}` }\n    >\n        <ModelThumbnail\n            model = 'TABLE'\n            title = 'Mesa'\n            onClick = { (e) => addModel('TABLE') }\n            className = 'mr-3'\n            modelQuantity = { models['TABLE'] ? models['TABLE'].quantity : 0 }\n        />\n        <ModelThumbnail \n            model = 'FURNITURE'\n            title = 'Entrepaños'\n            onClick = { (e) => addModel('FURNITURE') }\n            className = 'mr-3'\n            modelQuantity = { models['FURNITURE'] ? models['FURNITURE'].quantity : 0 }\n        />\n    </FlexRow>\n);\n\nexport default ModelsLibrary;","import React from 'react';\nimport FlexRow from '../../../../Layout/Flex/FlexRow';\nimport FixedWidthContainer from '../../../../Layout/Containers/FixedWidthContainer';\nimport ModelsLibrary from '../../../3D/Layout/Editor/EditorActions/ModelsLibrary/ModelsLibrary';\n\nconst EditorActions = ({ models, addModel }) => (\n    <FlexRow>\n        <FixedWidthContainer\n            width = { 75 }\n            className = 'overflow-auto h-100'\n        >\n            \n            <ModelsLibrary \n                models = { models }\n                addModel = { addModel }\n            />\n        </FixedWidthContainer>\n\n    </FlexRow>\n);\n\nexport default EditorActions;","import React from 'react';\n//Components\nimport RendererContainer from '../RendererContainer';\nimport FixedHeightContainer from '../../../Layout/Containers/FixedHeightContainer';\nimport with2DRenderer from '../../../Renderer/2D/HOC/with2DRenderer';\nimport EditorActions from '../../2D/Editor/EditorActions/EditorActions';\n\n\nconst Editor = ({ models, addModel }) => {\n    return (\n        <FixedHeightContainer\n            height = { 100 }\n        >\n            <FixedHeightContainer\n                height = { 90 }\n            >\n                <RendererContainer />\n            </FixedHeightContainer>\n            <FixedHeightContainer\n                height = { 10 }\n                className = 'bg-none'\n            >\n                <EditorActions \n                    models = { models }\n                    addModel = { addModel }\n                />\n            </FixedHeightContainer>\n        </FixedHeightContainer>\n    )\n}\n\nexport default with2DRenderer(Editor);","import React from 'react';\nimport Flex from './Flex';\n\nconst FlexColumn = ({ children, className, ...extraProps }) => (\n    <Flex\n        className = {`flex-column ${className || ''}`}\n        { ...extraProps }\n    >\n        { children }\n    </Flex>\n);\n\nexport default FlexColumn;","import React from 'react';\nimport FlexRow from '../Flex/FlexRow';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nconst LabelWithIcon = ({ id, icon, onClick, className, labelText, ...extraProps }) => (\n    <label\n        id = { id }\n        onClick = { onClick }\n        className = { className }\n        { ...extraProps }\n    >\n        <FlexRow\n            className = 'align-items-center'\n        >\n            <FontAwesomeIcon \n                icon = { icon }\n                className = 'mr-2'\n            />\n            { labelText }\n        </FlexRow>\n    </label>\n);\n\nexport default LabelWithIcon;","import React from 'react';\nimport { connect } from 'react-redux';\n//Redux\nimport { setEditorTypeAction, setEditorWidthAction, setEditorHeightAction } from '../reducers/editorDuck';\n\nconst withEditorState = WrappedComponent => {\n    const WithEditorState = props => {\n        let {\n            editor,\n            setEditorTypeAction, \n            setEditorWidthAction, \n            setEditorHeightAction,\n            ...ownProps\n        } = props;\n\n        return <WrappedComponent \n            editorState = { editor }\n            setEditorType = { setEditorTypeAction }\n            setEditorWidth = { setEditorWidthAction }\n            setEditorHeight = { setEditorHeightAction }\n            { ...ownProps }\n        />\n    }\n\n    const mapStateToProps = (state, ownProps) => {\n        return {\n            editor: state.editor,\n            ...ownProps,\n        }\n    }\n\n    let WithState = connect(\n        mapStateToProps, \n        { \n            setEditorTypeAction, \n            setEditorWidthAction, \n            setEditorHeightAction \n        }\n    )(WithEditorState);\n\n    return WithState;\n}\n\nexport default withEditorState;","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport FlexRow from '../Flex/FlexRow';\n\nconst ButtonWithIcon = ({ icon, type, onClick, className, buttonText, ...extraProps }) => (\n    <button\n        onClick = { onClick }\n        className = {`btn btn-${type} ${className || ''}`}\n        { ...extraProps }\n    >\n        <FlexRow\n            className = 'align-items-center'\n        >\n            <FontAwesomeIcon \n                icon = { icon }\n                className = 'mr-2'\n            />\n            { buttonText }\n        </FlexRow>\n\n    </button>\n);\n\nexport default ButtonWithIcon;","import React, { useState } from 'react';\n//Components\nimport FlexRow from '../Layout/Flex/FlexRow';\nimport LabelWithIcon from '../Layout/Labels/LabelWithIcon';\nimport ButtonWithIcon from '../Layout/Buttons/ButtonWithIcon';\n//HOC\nimport withProjectState from '../../redux/HOC/withProjectState';\n//Icons\nimport { faCogs, faCheckCircle } from '@fortawesome/free-solid-svg-icons';\n\n\nconst ProjectSettings = ({ project, setProjectName, setProjectDescription }) => {\n    //Props destructuring\n    let { name, description } = project;\n    \n    //HOOKS\n    //State\n    const [changesSaved, setChangesSaved] = useState(true);\n    const [newProjectName, setNewProjectName] = useState(name);\n    const [newProjectDescription, setNewProjectDescription] = useState(description);\n\n    const saveProjectChanges = event => {\n        event.preventDefault();\n        setChangesSaved(true);\n        setProjectName(newProjectName);\n        setProjectDescription(newProjectDescription);\n    }\n\n    const handleProjectNameChange = event => {\n        setChangesSaved(false);\n        setNewProjectName(event.target.value);\n    }\n\n    const handleProjectDescripctionChange = event => {\n        setChangesSaved(false);\n        setNewProjectDescription(event.target.value);\n    }\n\n    return(\n        <div className='container mt-3 py-3'>\n            <LabelWithIcon \n                icon = { faCogs }\n                labelText = 'Ajustes del proyecto'\n                className = 'h4 text-muted'\n            />\n            <hr />\n            <div className='form-group'>\n                <label>Nombre del proyecto: </label>\n                <input \n                    type = 'text'\n                    value = { newProjectName }\n                    onChange = { handleProjectNameChange }\n                    className = 'form-control rounded-lg'\n                    placeholder = 'Nombre del proyecto'\n                />\n            </div>\n            <div className='form-group'>\n                <label>Descripción del proyecto: </label>\n                <textarea \n                    rows = '5'\n                    value = { newProjectDescription }\n                    onChange = { handleProjectDescripctionChange }\n                    className='form-control'\n                />\n            </div>\n            <FlexRow\n                className = 'justify-content-center'\n            >\n                <ButtonWithIcon \n                    icon = { changesSaved ? faCheckCircle : null }\n                    onClick = { !changesSaved && saveProjectChanges }\n                    className = 'btn btn-success'\n                    buttonText = { changesSaved ? 'Cambios guardados' : 'Guardar cambios' }\n                    disabled = { changesSaved }\n                />\n            </FlexRow>\n        </div>\n    );\n}\n\n//We apply the project state HOC\nlet WithProjectState = withProjectState(ProjectSettings);\n//We export the decorated component\nexport default WithProjectState;","/**\n * @todo Posteriormente esto vendrá de BD\n */\nconst WOOD_TEXTURE_URI = '/assets/textures/wood.png';\nconst FLOOR_TEXTURE_URI = '/assets/textures/floor.png';\n\nexport default class TextureFactory {\n    static WOOD_TEXTURE = 'WOOD_TEXTURE';\n    static FLOOR_TEXTURE = 'FLOOR_TEXTURE';\n\n    static getTextureUri = textureType => {\n        let { WOOD_TEXTURE, FLOOR_TEXTURE } = TextureFactory;\n        switch(textureType){\n            case WOOD_TEXTURE:\n                return WOOD_TEXTURE_URI;\n            case FLOOR_TEXTURE:\n                return FLOOR_TEXTURE_URI;\n            default:\n                return FLOOR_TEXTURE_URI;\n        }\n    }\n}","import React from 'react';\n//Components\nimport ButtonWithIcon from '../../../../../../../Layout/Buttons/ButtonWithIcon';\n//Factories\nimport TextureFactory from '../../../../../../../../classes/3D/Models/TextureFactory';\n//Icons\nimport { faCog } from '@fortawesome/free-solid-svg-icons';\n\nconst PlaneSettings = ({ editorWidth, editorHeight, setEditorHeight, setEditorWidth, handleTextureChange }) => (\n    <div className='dropup'\n        title = 'Ajustes de escena 3D'\n        data-toggle = 'tooltip' \n        data-placement = 'top' \n    >\n        <div className='dropdown'>\n            <ButtonWithIcon \n                id = '3d_scene_settings'\n                icon = { faCog }\n                type = 'outline-secondary'\n                className = 'rounded-pill pr-1 py-2 mr-2'\n                data-toggle='dropdown' \n                aria-haspopup='true' \n                aria-expanded='false'\n            />\n            <div className='dropdown-menu mb-5 px-3 oveflow-auto' aria-labelledby='3d_scene_settings'>\n                <h5>Plane</h5>\n                \n                <div className='form-group'>\n                    <h6>Dimensiones: </h6>\n                    <label>Alto: </label>\n                    <input \n                        type = 'text' \n                        value = { editorHeight }\n                        onChange = { event => setEditorHeight(event.target.value) }\n                        className = 'form-control' \n                    />\n                    <label>Ancho: </label>\n                    <input \n                        type='text' \n                        value = { editorWidth }\n                        onChange = { event => setEditorWidth(event.target.value) }\n                        className='form-control' \n                    />\n                </div>\n                \n                \n                <div className='form-group'>\n                    <h6>Textura:</h6>\n                    <div>\n                        <label>\n                            <input \n                                type = 'checkbox'\n                                value = { TextureFactory.FLOOR_TEXTURE } \n                                onChange = { handleTextureChange }\n                                className = 'mr-2'\n                            />\n                            <img \n                                src = { TextureFactory.getTextureUri(TextureFactory.FLOOR_TEXTURE) } \n                                width = '30px' \n                                height = '30px' \n                                className = 'mr-2'\n                            />\n                            Piso\n                        </label>\n                    </div>\n                    <div className='mt-2'>\n                        <label>\n                            <input \n                                type = 'checkbox'\n                                value = { TextureFactory.WOOD_TEXTURE } \n                                onChange = { handleTextureChange }\n                                className = 'mr-2'\n                            />\n                            <img \n                                src = { TextureFactory.getTextureUri(TextureFactory.WOOD_TEXTURE) } \n                                width = '30px' \n                                height = '30px' \n                                className = 'mr-2'\n                            />\n                            Duela\n                        </label>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n);\n\nexport default PlaneSettings;","import * as THREE from 'three';\n\nexport default class PlaneFactory {\n    static GRID         = 'GRID';\n    static MESH_PLANE   = 'MESH_PLANE';\n    static DEFAULT_SIZE = 5;\n    static DEFAULT_GRID = 100;\n    /**\n     * Returns an instance of the desired plane class\n     * @param {string} type \n     */\n    static create(type, width = PlaneFactory.DEFAULT_SIZE, height = PlaneFactory.DEFAULT_SIZE){\n        let plane;\n        switch(type){\n            case PlaneFactory.GRID:\n                plane = new THREE.GridHelper(width, PlaneFactory.DEFAULT_GRID);\n                break;\n            case PlaneFactory.MESH_PLANE:\n                const loader = new THREE.TextureLoader();\n                plane = new THREE.Mesh(\n                    new THREE.PlaneGeometry(\n                        width, \n                        height, \n                        PlaneFactory.DEFAULT_GRID, \n                        PlaneFactory.DEFAULT_GRID\n                    ),\n                    new THREE.MeshBasicMaterial({ //We load the default texture\n                        color: 0xD3D3D3\n                    })\n                );\n                //We rotate -90° the plane in order to be aligned with the 3D objects origin\n                plane.rotateX(-Math.PI / 2); \n                //Double sided material in order to prevent it to disappear when it is rotated\n                plane.material.side = THREE.DoubleSide;\n                break;\n            default:\n                plane = new THREE.GridHelper(PlaneFactory.DEFAULT_SIZE, PlaneFactory.DEFAULT_GRID);\n        }\n        return plane;\n    }\n}","import * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls'\nimport { DragControls } from 'three/examples/jsm/controls/DragControls';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\n//Factories\nimport PlaneFactory from '../3D/Plane/PlaneFactory';\n//Functions\nimport { getModelUri } from '../../constants/models/models';\n\nexport default class TridimensionalRenderer{\n    //CONSTANTS\n    //DOM container\n    static DOM_CONTAINER_ID = 'tridimensional_renderer';\n    //Light parameters\n    static DEFAULT_LIGHT_COLOR = 0xFFFFFF;\n    static DEFAULT_LIGHT_INTENSITY = 1;\n    //Default texture\n    static DEFAULT_TEXTURE_URI = '/assets/textures/wood.png'\n\n    //CONSTRUCTOR\n    constructor(sceneWidth = PlaneFactory.DEFAULT_SIZE, sceneHeight = PlaneFactory.DEFAULT_SIZE){\n        this.objects = [];\n        //Scene dimensions\n        this.sceneWidth = sceneWidth;\n        this.sceneHeight = sceneHeight;\n        //Container dimensions\n        this.domContainer = document.getElementById(TridimensionalRenderer.DOM_CONTAINER_ID);\n        this.containerWidth = this.domContainer.clientWidth;\n        this.containerHeight = this.domContainer.clientHeight;\n        this.containerAspectRatio = this.containerWidth / this.containerHeight;\n        //Plane\n        this.plane = null;\n        //Controls\n        this.orbitControls = null;\n        this.dragControls = null;\n        this.enableOrbitControls = true;\n        //Methods linkage\n        this.render = this.render.bind(this);\n\n    }\n\n    //PRIMARY METHODS\n\n    /**\n     * Main method, creates a scene and adds the necessary items. It also invokes the render method that will run\n     * as the mainloop.\n     */\n    init(){\n        this.setInitialScene();\n        this.setInitialCameraState();\n        this.setInitialRenderer();\n        this.addControls();\n        this.addPlane();\n        this.addResizeListener();\n        this.render()\n    }\n\n    /**\n     * This method creates a scene and adds the light to it\n     */\n    setInitialScene(){\n        this.scene = new THREE.Scene();\n        this.addLight();\n    }\n\n    /**\n     * This method creates a perspective camera, providing the aspect ratio and other parameters (most of them equal\n     * to the default ones) and setting it far enough to cover the whole scene\n     */\n    setInitialCameraState(){\n        //We get optimal camera distance\n        let cameraDistance = this.getOptimalCameraDistance();\n        //Then we instantiate a perspective camera and set it´s parameters (position and look point)\n        this.camera = new THREE.PerspectiveCamera(50, this.containerAspectRatio, 0.01, 3000);\n        this.camera.position.set(0, cameraDistance, 0);\n        this.camera.lookAt(0, cameraDistance, 0)\n    }\n\n    /**\n     * This method creates the WebGLRenderer and set its size. Also, it appends the canvas where the scene is generated\n     * to the dom container.\n     */\n    setInitialRenderer(){\n        this.renderer = new THREE.WebGLRenderer({ antialias: true });\n        //Renderer settings\n        this.renderer.setClearColor(\"#e5e5e5\");\n        this.renderer.setSize(this.containerWidth, this.containerHeight);\n        //Append renderer in DOM\n        this.domContainer.appendChild(this.renderer.domElement);\n    }\n\n    /**\n     * This method creates the necessary controls to the scene (orbit controls and drag controls)\n     */\n    addControls(){\n        this.orbitControls = new OrbitControls( this.camera, this.renderer.domElement );\n        this.dragControls = new DragControls(this.objects, this.camera, this.renderer.domElement);\n    }\n\n    /**\n     * This method creates a plane and adds it to the scene\n     */\n    addPlane(){\n        //Grid plane\n        let gridPlane = PlaneFactory.create(PlaneFactory.GRID, 50)\n        this.addToScene(gridPlane)\n        //Main plane (which can be personalized with different textures)\n        this.plane = PlaneFactory.create(PlaneFactory.MESH_PLANE, this.sceneWidth, this.sceneHeight);\n        this.addToScene(this.plane);  \n    }\n\n    /**\n     * This method adds a listener to the window resize event, in order to change the renderer dimensions to make it\n     * responsive, likewise, with the camera aspect ratio based on the new container dimensions\n     */\n    addResizeListener(){\n        window.addEventListener('resize', () => {\n            this.setContainerDimensions();\n            this.renderer && this.renderer.setSize(this.containerWidth, this.containerHeight);\n            if(this.camera){\n                this.camera.aspect = this.containerAspectRatio;\n                this.camera.updateProjectionMatrix()\n            }\n        })\n    }\n\n    /**\n     * This method conforms the mainloop of the 3d scene, by requesting the animation frame on a recursive way it'll always\n     * be executing the render method of the WebGLRenderer. Also, the orbit controls are updated in order to reflect the \n     * camera´s perspective changes made by the user interaction with mouse/keyboard events\n     */\n    render(){\n        requestAnimationFrame(this.render);\n        if(this.renderer && this.scene && this.camera){\n            this.renderer.render(this.scene, this.camera);\n        }\n        if(this.orbitControls){\n            this.orbitControls.update();\n        }\n    }\n\n    //SECONDARY METHODS\n\n    /**\n     * This methos sets the global callback for the drag end event\n     * @param {function} callback \n     */\n    setDragEndCallback(callback){\n        if(callback && typeof(callback) === 'function')\n            this.onDragEnd = callback;\n        //We bind the this context (instance)\n        this.onDragEnd = this.onDragEnd.bind(this);\n    }\n\n    /**\n     * This method adds an item to the current scene\n     * @param {any} element \n     */\n    addToScene(element){\n        this.scene.add(element);\n    }\n\n    /**\n     * Light creation and incorporation to the scene\n     */\n    addLight(){\n        let light = new THREE.AmbientLight(TridimensionalRenderer.DEFAULT_LIGHT_COLOR, TridimensionalRenderer.DEFAULT_LIGHT_INTENSITY)\n        light.position.set(0, 0, 0);\n        this.addToScene(light);\n       \n    }\n\n    /**\n     * This method sets the current dimensions of the DOM container\n     */\n    setContainerDimensions(){\n        this.containerWidth = this.domContainer.clientWidth;\n        this.containerHeight = this.domContainer.clientHeight;\n        this.containerAspectRatio = this.containerWidth / this.containerHeight;\n    }\n\n    /**\n     * This method adds a single object to the existing array of objects and updates the drag controls in order to be \n     * able to manipulate the object.\n     * @param {any} object \n     */\n    addObject(object){\n        this.objects.push(object);\n        this.updateDragControls();\n    }\n\n    /**\n     * This method sets the object's array with the provided one. Also, as in the addObject method, it updates the drag controls.\n     * @param {array} objects \n     */\n    setObjects(objects){\n        if(Array.isArray(objects))\n            this.objects = objects;\n        this.updateDragControls();\n    }\n\n    load3DModel(type, { x = 0, y = 0, z = 0 }, onSuccess){\n        let uri = getModelUri(type);\n        let loader = new GLTFLoader();\n        loader.load(\n            uri,\n            gltf => {\n                //Scaled to real dimensions\n                gltf.scene.scale.set(1, 1, 1);\n                //New objects starts at origin\n                gltf.scene.position.set(x, y, z);\n                //We add the object to the scene\n                this.addToScene(gltf.scene)\n                //We get the object of the scene and apply additional settings, finally we add it to the objects array (needed for drag controls)\n                gltf.scene.traverse( object => {\n                    if(object.isMesh) {\n                        //We load the default texture to the object if this does not have one already\n                        if(!object.material.map)\n                            this.addTextureToObject(object, TridimensionalRenderer.DEFAULT_TEXTURE_URI);\n                        if(onSuccess && typeof(onSuccess) === 'function')\n                            onSuccess(object);\n                        \n                        //We add the object to the array\n                        this.addObject(object);\n\n                    }\n                }) \n            }\n        );\n    }\n\n    /**\n     * This method adds a texture to the object´s material, it can be modified at runtime\n     * @param {mesh} object \n     * @param {string} textureUri\n     */\n    addTextureToObject = (object, textureUri = null) => {\n        if(!object.isMesh)\n            return;\n        /**\n         * @todo Texture factory\n         */\n        //We load the texture \n        let texture = new THREE.TextureLoader().load(textureUri || TridimensionalRenderer.DEFAULT_TEXTURE_URI);\n        //Required parameters, specially encoding, which is set to LuminanceFormat\n        texture.encoding = THREE.LuminanceFormat;\n        texture.flipY = false;\n        //We add the texture in the material property of the object\n        object.material = new THREE.MeshPhongMaterial({\n            map: texture,\n        });\n        object.material.side = THREE.DoubleSide;\n    }\n\n    /**\n     * This method sets the status of the orbit controls (true means enabled, false is blocked)\n     * @param {boolean} value \n     */\n    setOrbitControlsEnabled(value){\n        this.enableOrbitControls = value;\n        this.orbitControls.enabled = value;\n    }\n\n    /**\n     * This method creates a new instance of DragControls with the new objects, also, it adds the respective listeners for\n     * the drag-start, drag and drag-end events.\n     * When the drag event is fired (drag-start) the orbit control is disabled to avoid events interference.\n     * During the object drag, the position where the user is placing the object is validated (border conditions), also, \n     * the Y axis is locked in the origin.\n     * When the drag event ends (drag-end) the orbit control is enabled.\n     */\n    updateDragControls(){\n        this.dragControls = new DragControls(this.objects, this.camera, this.renderer.domElement)\n        let { orbitControls, onDragEnd } = this;\n        let initialYPosition = 0;\n        //On drag event start we disable orbit controls to avoid events interference (we don´t want to trigger orbit controls while dragging an object)\n        this.dragControls.addEventListener('dragstart', event => {\n            initialYPosition = event.object.position.y;\n            if(orbitControls)\n                orbitControls.enabled = false\n        })\n        //During the drag event we apply validations in the position where the object is trying to be placed\n        this.dragControls.addEventListener ( 'drag', event => {\n            //Position in Y axis fixed to object´s initial Y axis position.\n            event.object.position.y = initialYPosition; \n            //Border conditions (X & Z)\n            /*\n            event.object.position.x = Math.abs(event.object.position.x) >= 2 ? 2 * (event.object.position.x > 0 ? 1 : -1) : event.object.position.x\n            event.object.position.z = Math.abs(event.object.position.z) >= 2 ? 2 * (event.object.position.z > 0 ? 1 : -1) : event.object.position.z\n            */\n        })\n        //On drag event end we enable the orbit controls again\n        this.dragControls.addEventListener('dragend', event => {\n            event.object.material.opacity = 1;\n            if(onDragEnd && typeof(onDragEnd) === 'function')\n                onDragEnd(event);\n            if(orbitControls)\n                orbitControls.enabled = this.enableOrbitControls;\n        })\n\n    }\n    /**\n     * Method to get camera´s optimal distance, we need to get far enough to get the whole scene, therefore we \n     * take the maximum value between height and width\n     */\n    getOptimalCameraDistance = () => Math.max(this.sceneHeight, this.sceneWidth)  * 1.15;\n}","import * as THREE from 'three';\nimport TridimensionalRenderer from \"../../Renderers/TridimensionalRenderer\";\n\nexport default class CameraRotationFactory {\n    /**\n     * Predefined views (top, front - with 4 modes - and isometric);\n     */\n    //TOP VIEW\n    static TOP_VIEW = 'TOP_VIEW';\n    //FRONT VIEW\n    static BACK_VIEW    = 'BACK_VIEW';\n    static FRONT_VIEW   = 'FRONT_VIEW';\n    static FRONT_LEFT   = 'FRONT_LEFT';\n    static FRONT_RIGHT  = 'FRONT_RIGHT';\n    //ISOMETRIC\n    static ISOMETRIC_VIEW = 'ISOMETRIC_VIEW';\n\n    /**\n     * Creates an instance of a tridimensional vector, which represents the position of the camera in the desired point of view.\n     * It also accepts a number representing the distance (how far is the camera). If not defined, the default value in TridimendionalRenderer\n     * will be used instead.\n     * @param {string} type \n     * @param {number} distance \n     */\n    static createCameraRotationVector = (type, distance = null) => {\n        let cameraDistance = distance || TridimensionalRenderer.DEFAULT_CAMERA_DISTANCE;\n        //The 3d vector to be returned is initialized with 0´s\n        let cameraPosition = new THREE.Vector3(0, 0, 0);\n        //We get the type of views (just to avoid writing the name of the class before all of them in the switch)\n        let { TOP_VIEW, BACK_VIEW, FRONT_VIEW, FRONT_LEFT, FRONT_RIGHT, ISOMETRIC_VIEW } = CameraRotationFactory;\n\n        switch(type){\n            case TOP_VIEW:\n                //In top view we only make non-zero the Y axis\n                cameraPosition.setY(cameraDistance);\n                break;\n            case BACK_VIEW:\n                //In back view we only make non-zero the Z axis (but in negative way)\n                cameraPosition.setZ(-cameraDistance);\n                break;\n            case FRONT_VIEW:\n                //In front view we make non-zero the Z axis\n                cameraPosition.setZ(cameraDistance);\n                break;\n            case FRONT_LEFT:\n                //In front left view we only make non-zero the X axis (but in negative way)\n                cameraPosition.setX(-cameraDistance);\n                break;\n            case FRONT_RIGHT:\n                //In front right view we only make non-zero the X axis\n                cameraPosition.setX(cameraDistance);\n                break;\n            case ISOMETRIC_VIEW:\n                //We get a little closer\n                cameraDistance -= 2;\n                //In isometric view we set the X axis and the Z axis equal, and we make the Y axis half the distance value\n                cameraPosition.setX(cameraDistance);\n                cameraPosition.setY(cameraDistance / 2);\n                cameraPosition.setZ(cameraDistance);\n                break;\n            default:\n                //By default we get the top view\n                cameraPosition.setY(cameraDistance);\n        }\n        //We return the 3d vector which represents the position that the camera needs to acquire in order to get the desired view\n        return cameraPosition;\n    }\n}","import React from 'react';\n//Components\nimport FlexColumn from '../../../../../../Layout/Flex/FlexColumn';\nimport LabelWithIcon from '../../../../../../Layout/Labels/LabelWithIcon';\n//Icons\nimport { faCrosshairs, faCaretSquareUp, faWindowMaximize, faWindowRestore, faCaretSquareLeft, faCaretSquareRight, faCube } from '@fortawesome/free-solid-svg-icons';\n//Classes\nimport CameraRotationFactory from '../../../../../../../classes/3D/Camera/CameraRotationFactory';\n\n\n\nconst CameraPositionMenu = ({ rotateCamera }) => {\n    //Available views\n    let { TOP_VIEW, BACK_VIEW, FRONT_VIEW, FRONT_LEFT, FRONT_RIGHT, ISOMETRIC_VIEW } = CameraRotationFactory;\n    return(\n        <div \n            title = 'Vistas'\n            className = 'dropup'\n            data-toggle = 'tooltip' \n            data-placement = 'top' \n        >\n            <LabelWithIcon \n                icon = { faCrosshairs }\n                title = 'Vistas'\n                className = 'cursor-click mb-0 btn btn-outline-secondary rounded-pill pr-1 mr-2 py-2'\n                data-toggle = 'dropdown' \n                aria-haspopup = 'true' \n                aria-expanded = 'false'\n            />\n            <div className='dropdown-menu mb-3 px-2 py-2'>\n                <FlexColumn>\n                    <LabelWithIcon \n                        icon = { faCaretSquareUp }\n                        labelText = 'Superior'\n                        onClick = { e => rotateCamera(TOP_VIEW) }\n                        className = 'cursor-click dropdown-item'\n                    />\n                    <LabelWithIcon \n                        icon = { faWindowMaximize }\n                        labelText = 'Frente'\n                        onClick = { e => rotateCamera(FRONT_VIEW) }\n                        className = 'cursor-click dropdown-item'\n                    />\n                    <LabelWithIcon \n                        icon = { faWindowRestore }\n                        labelText = 'Atras'\n                        onClick = { e => rotateCamera(BACK_VIEW) }\n                        className = 'cursor-click dropdown-item'\n                    />\n                    <LabelWithIcon \n                        icon = { faCaretSquareRight }\n                        labelText = 'Derecha'\n                        onClick = { e => rotateCamera(FRONT_RIGHT) }\n                        className = 'cursor-click dropdown-item'\n                    />\n                    <LabelWithIcon \n                        icon = { faCaretSquareLeft }\n                        labelText = 'Izquierda'\n                        onClick = { e => rotateCamera(FRONT_LEFT) }\n                        className = 'cursor-click dropdown-item'\n                    />\n                    <LabelWithIcon \n                        icon = { faCube }\n                        labelText = 'Isométrico'\n                        onClick = { e => rotateCamera(ISOMETRIC_VIEW) }\n                        className = 'cursor-click dropdown-item'\n                    />\n\n                </FlexColumn>\n            </div>\n        </div>\n    );\n}\n\nexport default CameraPositionMenu;","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n//Components\nimport FlexRow from '../../../../../../Layout/Flex/FlexRow';\nimport PlaneSettings from './PlaneSettings/PlaneSettings';\nimport ButtonWithIcon from '../../../../../../Layout/Buttons/ButtonWithIcon';\nimport CameraPositionMenu from './CameraPositionMenu';\n//HOC\nimport withProjectState from '../../../../../../../redux/HOC/withProjectState';\nimport withEditorState from '../../../../../../../redux/HOC/withEditorState';\n//Icons\nimport { faArrowsAlt, faLock, faLockOpen } from '@fortawesome/free-solid-svg-icons';\n\n\n\n\nconst PlaneActions = props => {\n    //PROPS\n    let {\n        //From editor state HOC\n        editorState, \n        setEditorWidth, \n        setEditorHeight, \n        //From parent component\n        rotateCamera, \n        addTextureToPlane, \n        toggleOrbitControls, \n        orbitControlsEnabled, \n    } = props;\n\n    //Object destructuring\n    const { editorHeight, editorWidth } = editorState;\n    \n    /**\n     * Method that changes the plane texture based on the desired one\n     * @param {object} event \n     */\n    const handleTextureChange = event => {\n        let { checked, value } = event.target;\n        if(checked)\n            addTextureToPlane(value);\n    }\n    \n    return(\n        <FlexRow\n            className = 'justify-content-start align-items-center'\n        >  \n            <CameraPositionMenu \n                rotateCamera = { rotateCamera }\n            />\n            <PlaneSettings \n                editorWidth = { editorWidth }\n                editorHeight = { editorHeight }\n                setEditorWidth = { setEditorWidth }\n                setEditorHeight = { setEditorHeight }\n                handleTextureChange = { handleTextureChange }\n            />\n            <ButtonWithIcon \n                icon = { orbitControlsEnabled ? faLock : faLockOpen }\n                title = 'Bloquear/desbloquear plano'\n                type = { orbitControlsEnabled ?  'outline-secondary' : 'secondary' }\n                onClick = { toggleOrbitControls }\n                className = 'btn-sm rounded-pill px-3 py-2 mr-2'\n                buttonText = {\n                    <FontAwesomeIcon \n                        icon = { faArrowsAlt }\n                    />\n                }\n                data-toggle = 'tooltip' \n                data-placement = 'top' \n            />    \n        </FlexRow>\n    );\n}\n\n//We apply the project state HOC\nlet WithProjectState = withProjectState(PlaneActions);\n//We apply the editor state decorator \nlet WithEditorState = withEditorState(WithProjectState);\n//We return the decorated component\nexport default WithEditorState;","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n//Components\nimport FlexRow from '../../../../../Layout/Flex/FlexRow';\nimport ModelsLibrary from './ModelsLibrary/ModelsLibrary';\nimport FixedWidthContainer from '../../../../../Layout/Containers/FixedWidthContainer';\nimport PlaneActions from './PlaneActions/PlaneActions';\n\nconst EditorActions = ({ models, addModel, rotateCamera, addTextureToPlane, toggleOrbitControls, orbitControlsEnabled }) => (\n    <FlexRow\n        className = 'justify-content-around align-items-center'\n    >\n        <FixedWidthContainer\n            width = { 75 }\n            className = 'overflow-auto h-100'\n        >\n            <ModelsLibrary \n                models = { models }\n                addModel = { addModel }\n            />\n        </FixedWidthContainer>\n        <FixedWidthContainer\n            width = { 25 }\n        >\n            <PlaneActions \n                rotateCamera = { rotateCamera }\n                addTextureToPlane = { addTextureToPlane }\n                toggleOrbitControls = { toggleOrbitControls }\n                orbitControlsEnabled = { orbitControlsEnabled }\n            />\n        </FixedWidthContainer>\n\n    </FlexRow>\n);\n\nexport default EditorActions;","import React from 'react';\n//Components\nimport FixedHeightContainer from '../../../Layout/Containers/FixedHeightContainer';\n\nconst RendererContainer = () => (\n    <FixedHeightContainer\n        id = 'tridimensional_renderer'\n        height = { 100 }\n    />\n);\n\nexport default RendererContainer;","import React from 'react';\n//Components\nimport EditorActions from './EditorActions/EditorActions';\nimport RendererContainer from '../RendererContainer';\nimport FixedHeightContainer from '../../../../Layout/Containers/FixedHeightContainer';\n//HOC\nimport with3DRenderer from '../../../../Renderer/3D/HOC/with3DRenderer';\n\n\nconst Editor = ({ models, addModel, rotateCamera, addTextureToPlane, toggleOrbitControls, orbitControlsEnabled }) => {\n    return(\n        <FixedHeightContainer\n            height = { 100 }\n        >\n            \n            <FixedHeightContainer\n                height = { 90 }\n            >\n                <RendererContainer />\n            </FixedHeightContainer>\n            <FixedHeightContainer\n                height = { 10 }\n            >\n                <EditorActions\n                    models = { models } \n                    addModel = { addModel }\n                    rotateCamera = { rotateCamera }\n                    addTextureToPlane = { addTextureToPlane }\n                    toggleOrbitControls = { toggleOrbitControls }\n                    orbitControlsEnabled = { orbitControlsEnabled }\n                />\n                \n            </FixedHeightContainer>\n        </FixedHeightContainer>\n    );\n}\n\nexport default with3DRenderer(Editor);\n\n\n","import React, { useState, useEffect } from 'react';\n//Classes\nimport TridimensionalRenderer from '../../../../classes/Renderers/TridimensionalRenderer';\n//Factories\nimport TextureFactory from '../../../../classes/3D/Models/TextureFactory';\nimport CameraRotationFactory from '../../../../classes/3D/Camera/CameraRotationFactory';\n//Functions\nimport { getModelUri } from '../../../../constants/models/models';\nimport withProjectState from '../../../../redux/HOC/withProjectState';\n\n\nconst with3DRenderer = (WrappedComponent) => {\n\n    const With3DRenderer = ({ project, addObject, updateObject, removeObject, set2DSceneDimensions, set3DSceneDimensions, ...extraProps}) => {\n        //PROPS\n        //Destructuring\n        const { objects: projectObjects } = project;\n\n        //HOOKS\n        //State\n        const [models, setModels] = useState({});\n        const [sceneInstance, setSceneInstance] = useState();\n        const [draggedObject, setDraggedObject] = useState();\n        const [orbitControlsEnabled, setOrbitControlsEnabled] = useState(true);\n\n        //Effects\n        useEffect(() => {\n            let sceneInstance = new TridimensionalRenderer();\n            sceneInstance.init();\n            sceneInstance.setDragEndCallback(updateModel);\n            setSceneInstance(sceneInstance);\n            //We set the container dimensions\n            const { sceneWidth, sceneHeight } = sceneInstance;\n            set3DSceneDimensions(sceneWidth, sceneHeight);\n            //If not set already, we set the 2D editor dimensions (the whole dom container dimensions)\n            if(!project.scene || !project.scene['2d']){\n                let editorContainer = document.getElementById(TridimensionalRenderer.DOM_CONTAINER_ID);\n                set2DSceneDimensions(editorContainer.clientWidth, editorContainer.clientHeight);\n            }\n            /**\n             * This method restores the existing objects in the plane\n             */\n            const restoreModels = () => {\n                //We retrieve the existing models in state\n                let modelsCopy = { ...models };\n                //We iterate over the existing models and create the 2d model\n                projectObjects.forEach(model => {\n                    //We get the type and the coordinates (of the 2d key)\n                    const { type } = model;\n                    const { coordinates } = model['3d'];\n                    //We update the model quantity\n                    modelsCopy[type] ? modelsCopy[type].quantity++ : modelsCopy[type] = { quantity: 1 };\n                    //We create the 3D model\n                    sceneInstance.load3DModel(\n                        type,\n                        coordinates,\n                        createdModel => { //onSuccess callback\n                            const { uuid } = createdModel;\n                            let modelWithUpdatedId = {\n                                ...model,\n                                '3d': {\n                                    uuid: uuid,\n                                    coordinates,\n                                }\n                            };\n                            updateObject(modelWithUpdatedId) \n                        },\n                        updateModel //updateCallback\n                    );\n                });\n                setModels(modelsCopy);\n            }\n            restoreModels();\n        }, []);\n\n        useEffect(() => {\n            if(!draggedObject)\n                return;\n            const { uuid, x, y, z } = draggedObject;\n            let existingObject = findObjectBy3DModelId(uuid);\n            if(!existingObject){\n                console.log('Objeto no encontrado')\n                return;\n            }\n            let bidimensionalEditorState = { ...existingObject['2d'] };\n            let updatedObject = {\n                ...existingObject,\n                '2d': {\n                    ...bidimensionalEditorState,\n                    coordinates: get2DCoordinates(x, z)\n                },\n                '3d': {\n                    uuid: uuid,\n                    coordinates: { x, y: 0, z }\n                }\n            }\n            updateObject(updatedObject);\n            \n        }, [draggedObject]);\n\n        useEffect(() => {\n            if(sceneInstance){\n                sceneInstance.setOrbitControlsEnabled(orbitControlsEnabled);\n            }\n        }, [orbitControlsEnabled]);\n\n        /**\n         * Success callback for the load3DModel method, in this callback we add the created object at project´s level, \n         * generating the id and 3d keys, which will contain the id´s and coordinates of the object in the current\n         * project.\n         * @param {object} createdModel \n         */\n        const onCreationSuccess = (createdModel, type) => {\n            //We get the id, type and the coordinates of the created model\n            const { uuid, position: { x, y, z } } = createdModel;\n            //We generate an object with all the properties needed to keep it in the state\n            let objectToAdd = {\n                id: projectObjects.length,\n                type,\n                '2d': {\n                    uuid: '', //We don´t know the id for the 3D model, it will be generated and updated on render time\n                    coordinates: get2DCoordinates(x, z)\n                },\n                '3d': {\n                    uuid: uuid, //THREE.js generated ID \n                    coordinates: { x, y: 0, z }\n                }\n            }\n            //We add the object at project´s level\n            addObject(objectToAdd);\n        }\n        const addModel = type => {\n            increaseModelQuantity(type);\n            sceneInstance.load3DModel(type, {x: 0, y: 0, z: 0}, model => onCreationSuccess(model, type));\n        }\n\n        const updateModel = event => {\n            //We get the position and the id of the object\n            const { object: { position: { x, y, z }, uuid } } = event;\n            setDraggedObject({ x, y, z, uuid });\n        }\n\n        /**\n         * This method return the complete object based on it´s 3d model id\n         * @param {string} id2DModel \n         */\n        const findObjectBy3DModelId = id3DModel => projectObjects.find(object => object['3d'].uuid === id3DModel);\n\n        const calculateOriginCoordinates = (x, y) => {\n            let { sceneWidth, sceneHeight } = { ...project.scene['2d'] };\n            let planeCenterX = sceneWidth / 2;\n            let planeCenterY = sceneHeight / 2;\n            return {\n                x: planeCenterX - x,\n                y: planeCenterY - y\n            }\n        }\n\n        const get2DCoordinates = (x, z) => {\n            const { scene } = project;\n            //We get the dimensions of each scene\n            let { sceneWidth: bidimensionalSceneWidth, sceneHeight: bidimensionalSceneHeight } = { ...scene['2d'] };\n            let { sceneWidth: tridimensionalSceneWidth, sceneHeight: tridimensionalSceneHeight } = { ...scene['3d'] };\n            //We get the ratio between the two scenes dimensions\n            let xRatio = bidimensionalSceneWidth / tridimensionalSceneWidth;\n            let yRatio = bidimensionalSceneHeight / tridimensionalSceneHeight;\n            //Remembering that z (depth) in 3D editor is y in 2D editor (TOP_VIEW), and that they are inverted\n            return calculateOriginCoordinates(-1 * x * xRatio, -1 * z * yRatio);\n        }\n\n        const toggleOrbitControls = () => {\n            setOrbitControlsEnabled(!orbitControlsEnabled);\n        }\n\n        const increaseModelQuantity = type => {\n            let modelsCopy = { ...models };\n            modelsCopy[type] ? modelsCopy[type].quantity++ : modelsCopy[type] = { quantity: 1 };\n            setModels(modelsCopy);\n        }\n\n        const addTextureToObject = (object, textureUri) => sceneInstance.addTextureToObject(object, textureUri);\n\n        const addTextureToPlane = texture => {\n            let textureUri = TextureFactory.getTextureUri(texture);\n            sceneInstance.addTextureToObject(sceneInstance.plane, textureUri);\n        }\n\n        const rotateCamera = (view = CameraRotationFactory.TOP_VIEW) => {\n            let cameraDistance = sceneInstance.getOptimalCameraDistance();\n            //We get the available views\n            let cameraPositionVector = CameraRotationFactory.createCameraRotationVector(view, cameraDistance);\n            sceneInstance.camera.position.copy(cameraPositionVector);\n        }\n        \n\n\n        return <WrappedComponent\n            models = { models }\n            addModel = { addModel }\n            rotateCamera = { rotateCamera }\n            addTextureToPlane = { addTextureToPlane }\n            addTextureToObject = { addTextureToObject }\n            toggleOrbitControls = { toggleOrbitControls }\n            orbitControlsEnabled = { orbitControlsEnabled }\n            { ...extraProps }\n        />\n    }\n\n    //We apply the project state HOC\n    let WithProjectState = withProjectState(With3DRenderer);\n    //We return the decorated component\n    return WithProjectState;\n}\n\nexport default with3DRenderer;","import { FURNITURE, TABLE } from \"../../../constants/models/models\";\n\nconst models = [\n    {\n        model_id: FURNITURE,\n        name: 'Entrepaños',\n        description: 'Conjunto de entrepaños de distintos tamaños y con múltiples cajones.',\n    },\n    {\n        model_id: TABLE,\n        name: 'Mesa',\n        description: 'Mesa de madera de 1m x 1m.'\n    }\n]\n\nexport default models;","import React, { useState, useEffect } from 'react';\n//Components\nimport Flex from '../../Layout/Flex/Flex';\n//Data\nimport data from '../Data/data';\nimport ModelThumbnail from '../../Editor/3D/Layout/Editor/EditorActions/ModelThumbnail';\nimport ButtonWithIcon from '../../Layout/Buttons/ButtonWithIcon';\nimport { faPlusCircle } from '@fortawesome/free-solid-svg-icons';\n//Styles\nimport './ModelsLibrary.css';\nimport withProjectState from '../../../redux/HOC/withProjectState';\n\nconst ModelsLibrary = ({ project, addObject }) => {\n    //PROPS\n    //Destructuring\n    const { objects: projectObjects } = project;\n\n    //HOOKS\n    //State\n    const [models, setModels] = useState({});\n\n    //Effects\n    useEffect(() => {\n        let modelsCopy = { ...models };\n        projectObjects.forEach(model => {\n            const { type } = model;\n            modelsCopy[type] ? modelsCopy[type].quantity++ : modelsCopy[type] = { quantity: 1 };\n        });\n        setModels(modelsCopy);\n    }, [])\n    //Methods\n    const addObjectToProject = type => {\n        let objectToAdd = {\n            id: projectObjects.length,\n            type,\n            '2d': {\n                uuid: '', //We don´t know the id for the 2D model, it will be generated and updated on render time\n                coordinates: { x: 0, y: 0 }\n            },\n            '3d': {\n                uuid: '', //We don´t know the id for the 3D model, it will be generated and updated on render time\n                coordinates: { x: 0, y: 0, z: 0 }\n            }\n        }\n        addObject(objectToAdd);\n        let modelsCopy = { ...models };\n        modelsCopy[type] ? modelsCopy[type].quantity++ : modelsCopy[type] = { quantity: 1 };\n        setModels(modelsCopy)\n\n    }\n\n\n\n    return (\n        <Flex\n            className = 'justify-content-around align-items-between flex-wrap'\n        >\n            {\n                data.map(item => (\n                    <div\n                        className = 'card rounded-lg border-muted catalog-tile mt-3'\n                    >\n                        <div className='card-body px-2 py-2'>\n                            <table className='table table-sm table-borderless'>\n                                <thead>\n                                    <tr>\n                                        <th colSpan='2'>\n                                            <ModelThumbnail \n                                                model = { item.model_id }\n                                                title = { item.name }\n                                                className = 'mr-3 mt-3'\n                                                modelQuantity = { models[item.model_id] ? models[item.model_id].quantity : 0}\n                                                imageClassName = 'catalog-thumbnail'\n                                            />\n                                        </th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr>\n                                        <th>Nombre</th>\n                                        <td>{ item.name }</td>\n                                    </tr>\n                                    <tr>\n                                        <th>Descripción</th>\n                                        <td>{ item.description }</td>\n                                    </tr>\n                                    <tr>\n                                        <th colSpan='2'>\n                                            <ButtonWithIcon \n                                                id = { item.model_id }\n                                                icon = { faPlusCircle }\n                                                onClick = { event => addObjectToProject(item.model_id) }\n                                                className = 'btn btn-primary rounded-lg shadow'\n                                                buttonText = 'Agregar'\n                                            />\n                                        </th>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                ))\n            }\n\n        </Flex>\n    )\n}\n\nlet WithProjectState = withProjectState(ModelsLibrary);\n\nexport default WithProjectState;","import React, { Fragment } from 'react';\nimport LabelWithIcon from '../Layout/Labels/LabelWithIcon';\nimport { faBook } from '@fortawesome/free-solid-svg-icons';\nimport ModelsLibrary from './ModelsLibrary/ModelsLibrary';\n\nconst Catalog = () => (\n    <div className='container mt-3 text-center'>\n        <LabelWithIcon \n            icon = { faBook }\n            className = 'text-muted h4'\n            labelText = 'Catálogo de productos'\n        />\n        <ModelsLibrary \n            models = {{}}\n        />\n    </div>\n);\n\nexport default Catalog;\n\n","import React from 'react';\n//Components\nimport ProjectSettings from '../../components/ProjectSettings/ProjectSettings';\nimport BidimensionalEditor from '../../components/Editor/2D/Editor/Editor';\nimport TridimensionalEditor from '../../components/Editor/3D/Layout/Editor/Editor';\nimport Catalog from '../../components/Catalog/Catalog';\n\n\n//Sections\nexport const CATALOG                = 'CATALOG';    \nexport const PROJECT_SETTINGS       = 'PROJECT_SETTINGS';\nexport const BIDIMENSIONAL_EDITOR   = 'BIDIMENSIONAL EDITOR';\nexport const TRIDIMENSIONAL_EDITOR  = 'TRIDIMENSIONAL_EDITOR';\n\n\nexport const SectionComponentToRender = {\n    [CATALOG]: <Catalog />,\n    [PROJECT_SETTINGS]: <ProjectSettings />,\n    [BIDIMENSIONAL_EDITOR]: <BidimensionalEditor />,\n    [TRIDIMENSIONAL_EDITOR]: <TridimensionalEditor />,\n}","import React from 'react';\n//Components\nimport FlexColumn from '../../Flex/FlexColumn';\nimport LabelWithIcon from '../../Labels/LabelWithIcon';\n//HOC\nimport withEditorState from '../../../../redux/HOC/withEditorState';\n//Icons\nimport { faToolbox, faObjectGroup, faCube, faCog } from '@fortawesome/free-solid-svg-icons';\n//Constants\nimport { CATALOG, TRIDIMENSIONAL_EDITOR, BIDIMENSIONAL_EDITOR, PROJECT_SETTINGS } from '../../../../constants/sections/sections';\n\n\nconst EditorActions = ({ setEditorType }) => {\n    return(\n        <FlexColumn\n            className = 'align-items-center justify-content-around'\n        >\n            <LabelWithIcon \n                icon = { faToolbox }\n                title = 'Catálogo'\n                onClick = { event => setEditorType(CATALOG) }\n                className = 'text-sidebar-icon cursor-click mb-3'\n                data-toggle = 'tooltip' \n                data-placement = 'right' \n                \n            />\n            <LabelWithIcon \n                icon = { faCube }\n                title = '3D'\n                onClick = { event => setEditorType(TRIDIMENSIONAL_EDITOR) }\n                className = 'text-sidebar-icon cursor-click mb-3'\n                data-toggle = 'tooltip' \n                data-placement = 'right' \n            />\n            <LabelWithIcon \n                icon = { faObjectGroup }\n                title = '2D'\n                onClick = { event => setEditorType(BIDIMENSIONAL_EDITOR) }\n                className = 'text-sidebar-icon cursor-click mb-3'\n                data-toggle = 'tooltip' \n                data-placement = 'right' \n            />\n            <LabelWithIcon \n                icon = { faCog }\n                title = 'Ajustes del proyecto'\n                onClick = { event => setEditorType(PROJECT_SETTINGS) }\n                className = 'text-sidebar-icon cursor-click'\n                data-toggle = 'tooltip' \n                data-placement = 'right' \n            />\n\n        </FlexColumn>\n    );\n}\n\n//We apply the editor state HOC to get access to the setEditorType method\nlet WithEditorState = withEditorState(EditorActions);\n//We export the decorated component\nexport default WithEditorState;","import React from 'react';\n//Components\nimport FlexColumn from '../../Flex/FlexColumn';\nimport LabelWithIcon from '../../Labels/LabelWithIcon';\n//Icons\nimport { faSave, faDownload, faFolderOpen,} from '@fortawesome/free-solid-svg-icons';\n\nconst ProjectActions = ({ className }) => {\n    return(\n        <FlexColumn\n            className = {`align-items-center justify-content-around ${className || ''}`}\n        >\n            <LabelWithIcon \n                icon = { faSave }\n                title = 'Guardar'\n                className = 'text-sidebar-icon cursor-click mb-3'\n                data-toggle = 'tooltip' \n                data-placement = 'right' \n            />\n            <LabelWithIcon \n                icon = { faFolderOpen }\n                title = 'Abrir'\n                className = 'text-sidebar-icon cursor-click mb-3'\n                data-toggle = 'tooltip' \n                data-placement = 'right' \n            />\n            <LabelWithIcon \n                icon = { faDownload }\n                title = 'Descargar'\n                className = 'text-sidebar-icon cursor-click mb-3'\n                data-toggle = 'tooltip' \n                data-placement = 'right' \n            />\n        </FlexColumn>\n    );\n}\n\nexport default ProjectActions;","import React from 'react';\n//Components\nimport FlexColumn from '../Flex/FlexColumn';\nimport EditorActions from './Sections/EditorActions';\nimport ProjectActions from './Sections/ProjectActions';\n//Styles\nimport './Sidebar.css';\nimport FixedWidthContainer from '../Containers/FixedWidthContainer';\nimport FixedHeightContainer from '../Containers/FixedHeightContainer';\n\nconst Sidebar = () => {\n    \n    return(\n        <FixedWidthContainer\n            width = { 5 }\n            className = 'position-relative'\n        >\n            <FixedHeightContainer\n                height = { 100 }\n                className = 'sidebar-width position-fixed bg-dark pt-4'\n            >\n                <FlexColumn\n                    className = 'align-items-center justify-content-start'\n                >\n                    <ProjectActions \n                        className = 'my-4'\n                    />\n                    <EditorActions />\n                </FlexColumn>\n            </FixedHeightContainer>\n        </FixedWidthContainer>\n    );\n}\n\nexport default Sidebar;","import React, { Fragment, useState, useEffect } from 'react';\nimport $ from 'jquery';\n//Components\n//3D editor\n//import Editor from './components/Editor/3D/Layout/Editor/Editor';\n//2d editor\nimport Editor from './components/Editor/2D/Editor/Editor';\nimport FlexRow from './components/Layout/Flex/FlexRow';\nimport SideBar from './components/Layout/Sidebar/Sidebar';\nimport FixedWidthContainer from './components/Layout/Containers/FixedWidthContainer';\nimport withEditorState from './redux/HOC/withEditorState';\n//Constants\nimport { SectionComponentToRender } from './constants/sections/sections';\n\n\nconst App = ({ editorState }) => {\n    const { editorType } = editorState;\n    //HOOKS\n\n    useEffect(() => {\n        //We enable tooltips\n        $(() => $('[data-toggle=\"tooltip\"]').tooltip());\n    }, [])\n\n    return (\n        <Fragment>\n            <FlexRow\n                className = 'w-100 h-100'\n            >\n                <SideBar />\n                <FixedWidthContainer\n                    width = { 95 }\n                >\n                    { SectionComponentToRender[editorType] }\n                </FixedWidthContainer>\n            </FlexRow>\n        </Fragment>\n    );\n}\n\n//We apply the editor state HOC\nlet WithEditorState = withEditorState(App);\n//We export the decorated component\nexport default WithEditorState;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n//Redux store\nimport generateStore from './redux/store';\n//Components\nimport App from './App';\n//Styles\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n//Libraries\nimport 'bootstrap/dist/js/bootstrap.bundle';\n//Service worker\nimport * as serviceWorker from './serviceWorker';\n\nlet store = generateStore();\n\nlet WithStore = <Provider store = { store }><App /></Provider>\n\nReactDOM.render(WithStore, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}